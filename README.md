# Школьная столовая (автоматизация)

Проект для управления питанием в школе. Позволяет ученикам платить и есть, поварам готовить, а админам считать деньги.

## Как запустить

1.  Создай базу данных (запусти один раз):
    ```bash
    python3 dbInitialisation.py
    ```
2.  Запусти проверочный скрипт, чтобы посмотреть как все работает:
    ```bash
    python3 verify_system.py
    ```

## Описание файлов

Вкратце, что и зачем тут лежит:

*   **`dbInitialisation.py`**:
    Самый главный файл для настройки. Если запустить, он создаст файл `cafe.db` и сделает там пустые таблицы (для юзеров, меню, складов и т.д.).

*   **`login.py`**:
    Тут лежит логика входа и регистрации.
    *   `registration`: создает нового юзера.
    *   `authorisation`: проверяет логин/пароль.

*   **`payment.py`**:
    Отвечает за деньги.
    *   `pay`: главная функция. Смотрит меню, считает сумму. Если у студента аллергия на что-то из меню, это блюдо пропускается (не оплачивается).

*   **`student.py`**:
    Всё, что может делать ученик.
    *   `view_menu`: просто выводит список еды на сегодня.
    *   `receive_meal`: отмечает в базе, что ученик забрал свою порцию.
    *   `leave_review`: пишет отзыв повара.

*   **`cook.py`**:
    Инструменты для повара.
    *   `view_orders`: показывает, кто сегодня поел.
    *   `check_inventory` и `update_inventory`: складской учет (сколько картошки осталось).
    *   `create_purchase_request`: если продукты кончаются, можно создать заявку на закупку.

*   **`admin.py`**:
    Админка.
    *   `view_statistics`: сколько денег заработали и сколько порций раздали.
    *   `manage_request`: одобряет заявки поваров на продукты (после одобрения продукты появляются на складе).
    *   `generate_report`: выводит итоговый отчет.

## Docker

1. Создание образа:
    ```bash
    docker build -t cafeteria-404 .
    ```
2. Запуск контейнера при помощи compose.yml
    ```bash
    docker compose up -d
    ```
3. Для того чтобы открыть веб страницу, просто вводим в браузер:
    ```bash
    localhost
    ```
*    **ВАЖНО!!!**:
    При попытке подключиться к сайту с другого устройства, в некоторых браузерах может быть недостаточно указать ip адрес сервера. В таком случае после адреса нужно добавить **:80**.